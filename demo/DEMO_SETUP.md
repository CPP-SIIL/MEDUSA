# Real-time GNN STL Classification Demo

This is a web-based application for real-time visualization of Graph Neural Network inference on STL 3D models.

## Setup Instructions

### 1. Install Backend Dependencies
```bash
pip install -r requirements_web.txt
```

### 2. Install Frontend Dependencies  
```bash
cd frontend
npm install
```

### 3. Start the Backend Server
```bash
cd demo
python server.py
```
Server will start on `http://localhost:5000`

### 4. Start the Frontend (Development)
```bash
cd frontend
npm start
```
Frontend will start on `http://localhost:3000`

## API Endpoints

### REST API
- `GET /api/health` - Server health check
- `GET /api/examples` - Get available STL example files
- `GET /api/model/info` - Get loaded model information
- `GET /api/model/weights` - Get current model weights
- `POST /api/predict` - Perform inference on STL file

### WebSocket Events
- `connect` - Client connects to server
- `request_weights` - Request real-time weight data
- `start_realtime_inference` - Begin real-time inference with visualization
- `weights_update` - Receive weight updates
- `inference_step` - Receive step-by-step inference progress  
- `inference_complete` - Receive final results

## Usage Flow

1. **Select Model**: Choose from available gun part or non-gun part examples
2. **Start Inference**: Click the "THINK" button to begin processing
3. **Watch Visualization**: See the GNN weights and activations animate in real-time
4. **View Results**: See the final classification and confidence score

## File Structure
```
demo/
├── server.py              # Flask backend server
├── requirements_web.txt   # Python dependencies
├── V0_PROMPT.md          # Frontend generation prompt
├── examples/             # STL example files
│   ├── positive/        # Gun part examples
│   └── negative/        # Non-gun part examples
└── frontend/            # React frontend (generated by V0)
    ├── src/
    ├── public/
    └── package.json
```

## Model Integration

The server automatically loads the most recent trained model from the `../outputs/` directory. Ensure you have trained models available from running the main training script.

## Features

- **Real-time WebSocket communication** for live updates
- **Animated GNN visualization** showing network "thinking"
- **Step-by-step inference monitoring** with layer-by-layer progress
- **Interactive file selection** from pre-classified examples
- **Live weight visualization** during inference
- **Confidence scoring** and probability breakdown
- **Error handling** and status monitoring

## Development Notes

- Backend uses Flask-SocketIO for real-time communication
- Frontend should be generated using the V0 prompt
- CORS enabled for development (localhost:3000)
- Model weights are sampled for performance (max 1000 values per layer)
- Temporary file cleanup for uploaded STL files